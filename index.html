<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ttutordigital</title>

  <style>
    /* ---------- BASE ---------- */
    body{
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
      background:#fafafa;
      color:#111;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
    }

    .card{
      background:#fff;
      padding:24px;
      border-radius:16px;
      max-width:520px;
      width:92%;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
    }

    .tag{
      display:inline-block;
      font-size:13px;
      padding:6px 10px;
      border-radius:999px;
      background:#eee;
      margin-bottom:12px;
    }

    h1{
      margin:0 0 10px;
      font-size:28px;
    }

    p{
      margin:0 0 10px;
      line-height:1.5;
      color:#333;
    }

    .note{
      margin-top:10px;
      font-size:13px;
      color:#666;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
    }

    button.btn, a.btn{
      display:inline-block;
      font-weight:700;
      border-radius:12px;
      padding:10px 14px;
      border:1px solid #111;
      cursor:pointer;
      text-decoration:none;
      background:#fff;
      color:#111;
    }

    .primary{
      background:#111;
      color:#fff;
    }

    .secondary{
      border-color:#ddd;
      color:#111;
      background:#fff;
    }

    /* ---------- MODAL CHAT ---------- */
   /* ---------- MODAL CHAT ---------- */
.modalOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
  z-index:1000;

  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease;
}

.modalOverlay.open{
  opacity:1;
  pointer-events:auto;
}

.modal{
  width:min(900px, 96vw);
  height:min(720px, 90vh);
  background:#fff;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
  display:flex;
  flex-direction:column;

  transform:translateY(20px) scale(.96);
  transition:transform .25s ease;
}

.modalOverlay.open .modal{
  transform:translateY(0) scale(1);
}

.modalTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  border-bottom:1px solid #eee;
  background:#fff;
  font-weight:800;
}

.modalTop button{
  border:0;
  background:#f2f2f2;
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
}

.modal iframe{
  flex:1;
  width:100%;
  border:0;
}
  </style>
</head>

<body>

  <!-- MODAL -->
  <div class="modalOverlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Ttutordigital · Chat">
      <div class="modalTop">
        <div>Ttutordigital · Chat</div>
        <button id="closeChat" type="button">Cerrar</button>
      </div>
      <iframe src="./app.html" title="Chat"></iframe>
    </div>
  </div>

  <!-- PORTADA -->
  <div class="card">
    <div class="tag">Ttutordigital</div>
    <h1>Tutor digital para alumnos</h1>
    <p>
      Organización diaria, prioridades claras y acompañamiento para ponerse a estudiar.
    </p>
    <p class="note">
      Demo inicial (sin IA real todavía). Validando experiencia de uso.
    </p>

    <div class="row">
      <button class="btn primary" id="openChat" type="button">Entrar a la app</button>
      <a class="btn secondary" href="./demo.html">Ver demo</a>
    </div>
  </div>

  <!-- JS (SIEMPRE ABAJO) -->
  <script>
  const isMobile = window.matchMedia("(max-width: 768px)").matches;
  const openBtn = document.getElementById("openChat");
  const overlay = document.getElementById("overlay");
  const closeBtn = document.getElementById("closeChat");

  function openChat(){
    if(isMobile){
      window.location.href = "./app.html";
      return;
    }
    overlay.classList.add("open");
    overlay.setAttribute("aria-hidden","false");
  }

  function minimizeChat(){
    overlay.classList.remove("open");
    overlay.setAttribute("aria-hidden","true");
  }

  openBtn.addEventListener("click", openChat);
  closeBtn.addEventListener("click", minimizeChat);

  overlay.addEventListener("click", (e) => {
    if(e.target === overlay) minimizeChat();
  });

  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape") minimizeChat();
  });
</script>

</body>
</html>
